<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:a4j="http://richfaces.org/a4j">	

	<a4j:outputPanel id="dataPanel" >
		<h:inputHidden tabindex="-1" id="myPurchasedMedia" value="#{ourMediaBean.myPurchasedMedia}"/>
		<h:inputHidden tabindex="-1" id="selectedType" value="#{ourMediaBean.selectedType}"/>
		<h:inputHidden tabindex="-1" id="selectedGenre" value="#{ourMediaBean.selectedGenre}"/>
		<h:inputHidden tabindex="-1" id="selectedRetailer" value="#{ourMediaBean.selectedRetailer}"/>
		<h:inputHidden tabindex="-1" id="currentPage" value="#{ourMediaBean.currentPage}"/>
		<h:inputHidden tabindex="-1" id="pageSize" value="#{ourMediaBean.pageSize}"/>
		<h:inputHidden tabindex="-1" id="prevPageSize" value="#{ourMediaBean.prevPageSize}"/>
		<h:inputHidden tabindex="-1" id="totalPages" value="#{ourMediaBean.totalPages}"/>
		<h:inputHidden tabindex="-1"  id="paginationAction" value="#{ourMediaBean.paginationAction}"/>
		<h:inputHidden tabindex="-1" id="pageView" value="#{ourMediaBean.pageView}"/>
		<h:inputHidden tabindex="-1" id="sortViewBy" value="#{ourMediaBean.sortViewBy}"/>
		<h:inputHidden tabindex="-1" id="viewMediaTitle" value="#{ourMediaBean.viewMediaTitle}"/>
		<h:inputHidden tabindex="-1" id="favAction" value="#{ourMediaBean.favAction}"/>
		</a4j:outputPanel>
		<a4j:commandLink id="submitLink"  action="#{ourMediaBean.refreshData}" reRender="dataPanel,mediaView" oncomplete="setPgLinks();" title="#{labelMsgs.mediaInaAccount}"/>
	 
    <!-- //////////////// main body start //////////////////////////   -->    
        <div class="main_body">
        	<div class="ourMedia_heading">
        		<span class="Fleft">#{labelMsgs.theAccount}<h:outputLabel  value="#{headerBean.householdName}'s"/><span class="headingColor">#{labelMsgs.rightLocker}</span></span>               
            </div>
            <div class="body_container_above_gradiant">
            		<div class="gradiant_box_left">       			    	
                    </div>
                    <div class="gradiant_box_middle">
               	    <img class="gradiant_img" src="#{applicationScope.staticContentBaseUrl}/images/container_top_gradiant.jpg" width="978" height="2" align="top" alt="#{labelMsgs.alt_img_container_top_gradiant}" /></div>
                    <div class="gradiant_box_right">                    
                    </div>            
            </div>
            
            
             <!-- //////////////// body content start //////////////////////////   --> 
             	<div class="body_wrapper">
                		
                        <div class="body_wrapper_left_shadow">
                
                		</div>
                        
                		<div class="body_wrapper_container">
                        	
                			<div class="mediaBody_Container">	
                            		<div class="mediaBody_left">
                                    	<div class="BrowseMediaBox">
                                        	<div class="headingMedia">#{labelMsgs.browseMedia}</div>
                                        	<div class="Media_fields field_Paddingtop20">
                                            	<div class="Field_Heading Cursorpointer">#{labelMsgs.user}</div>
                                            	<div class="Fields_media">
                                            	<ul><li>
                                            	<c:set var="mediaSectionTab" value="7"/>
                                            		<a tabindex="#{mediaSectionTab}"  class="textDecorationNone" id="lnkmyPurchasedMeida" title="#{labelMsgs.byAllUserUltraviolet}" onclick="javascript:setVal(this,'myPurchasedMedia','myPurchasedMedia');">#{labelMsgs.byAllUserUltraviolet}</a>
                                            		</li>
                                            	</ul>
                                            	</div>
                                            	
                                                <div class="Field_All"><a tabindex="#{mediaSectionTab+1}" href="#" id="myPurchasedMediaAll" onclick="setVal(this,'myPurchasedMedia','All');" title="#{labelMsgs.allUser} "> #{labelMsgs.allUser}  </a></div>
                                            </div>
                                            <div class="Media_fields">
                                            	<div class="Field_Heading">#{labelMsgs.byType}</div>
                                                <div class="Field_All"><a tabindex="#{mediaSectionTab+2}" href="#" id="selectedTypeAll" onclick="setVal(this,'selectedType','All');" title="#{labelMsgs.allTypes} "> #{labelMsgs.allTypes}  </a></div>
                                                <div class="Fields_media">
                                                	<ul>
                                                	<c:set var="byTypeListVal" value="#{mediaSectionTab+3}"/>
                                                		<c:forEach items="#{ourMediaBean.byTypeList}" var="typeItem">
                                                    		<li>
                                                    			<a tabindex="#{byTypeListVal}" title="#{typeItem}" id="#{typeItem}" onclick="setVal(this,'selectedType','#{typeItem}');">#{typeItem}</a>
                                                    			<c:set var="byTypeListVal" value="#{byTypeListVal+1}"/>
                                                    		</li>
                                                        </c:forEach>
                                                    </ul>
                                                </div>
                                            </div>
                                            
                                            <div class="Media_fields">
                                            	<div class="Field_Heading">#{labelMsgs.byGenre}</div>
                                                <div class="Field_All"><a tabindex="#{byTypeListVal}" href="#" id="selectedGenreAll" onclick="setVal(this,'selectedGenre','All');" title="#{labelMsgs.allGenres}"> #{labelMsgs.allGenres}  </a></div>
                                                <div class="Fields_media">
                                                	<ul>
                                                	<c:set var="byGenreTypeVal" value="#{byTypeListVal+1}"/> 
                                                	   <c:forEach items="#{ourMediaBean.byGenreList}" var="genreTypeItem">
                                                    		<li>
                                                    		<a tabindex="#{byGenreTypeVal}" title="#{genreTypeItem}" id="#{genreTypeItem}" onclick="setVal(this,'selectedGenre','#{genreTypeItem}');">#{genreTypeItem}</a>
                                                    		<c:set var="byGenreTypeVal" value="#{byGenreTypeVal+1}"/>
                                                    		</li>
                                                        </c:forEach>
                                                   </ul>
                                                </div>
                                            </div>
                                            
                                            <div class="Media_fields no_border_line" >
                                            	<div class="Field_Heading">#{labelMsgs.byRetailer}</div>
                                                <div class="Field_All"><a tabindex="#{byGenreTypeVal}" href="#" id="selectedRetailerAll" onclick="setVal(this,'selectedRetailer','All');" title=" #{labelMsgs.allRetailers}"> #{labelMsgs.allRetailers}  </a></div>
                                               <div class="Fields_media">
                                                   <ul>
                                                   		<c:set var="symOpen" value="("/>
                                                   		<c:set var="retailerval" value=""/>
                                                   		<c:set var="byretailerVal" value="#{byGenreTypeVal+1}"/>
                                                    	<c:forEach items="#{ourMediaBean.byRetailerList}" var="retailerTypeItem">
                                                    	<c:set var="retailerval" value="#{fn:substringBefore(retailerTypeItem,symOpen)}"/>
                                                    		<li>
                                                    			<a tabindex="#{byretailerVal}" title="#{retailerval}" id="#{retailerval }" onclick="setVal(this,'selectedRetailer','#{fn:substringAfter(retailerTypeItem,symOpen)}');">#{fn:substringBefore(retailerTypeItem,"(")}</a>
                                                    			<c:set var="byretailerVal" value="#{byretailerVal+1}"/>
                                                    		</li>
                                                        </c:forEach>
                                                   </ul>
                                                	                                              	
                                                </div>
                                            </div>
                                            
                                        </div>
                                    
                                    </div>
                                    <div class="mediaBody_right"> 
                                    <a4j:outputPanel id="mediaView">
                                        <c:if test="#{ourMediaBean.mediaListSize &gt; 0}">
                                        <f:subview id="listVi" rendered="#{ourMediaBean.pageView == 'LIST'}">
											<ui:include src="mediaListView.xhtml"/>
										</f:subview>
										<f:subview id="gridvi" rendered="#{ourMediaBean.pageView == 'GRID'}">
											<ui:include src="mediaGridView.xhtml"/>
										</f:subview>
										<f:subview id="detailvi" rendered="#{ourMediaBean.pageView == 'DETAIL'}">
											<ui:include src="mediaDetailView.xhtml"/>
										</f:subview>									
										</c:if>
										<c:if test="#{ourMediaBean.mediaListSize eq 0 || ourMediaBean.mediaListSize &lt; 0}">
                                        	<div class="NoMediaTitle">#{labelMsgs.mediaNotAvailable}</div>
										</c:if>
                                    </a4j:outputPanel>
                                    </div>
                                    
                                    
                            </div>
                            
                		</div>
                        
                        <div class="body_wrapper_right_shadow">
                
                		</div>
               </div>
             
             <!-- //////////////// body content end //////////////////////////   --> 
        
        </div>
       <!-- //////////////// main body end //////////////////////////   --> 
      
</ui:composition>