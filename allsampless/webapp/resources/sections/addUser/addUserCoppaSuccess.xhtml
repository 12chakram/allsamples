 <ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jstl/core"	
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:truncate="http://www.dece.com/jsf"
	xmlns:rich="http://richfaces.org/rich"> 
	
	<script type="text/javascript">
		
		function resendLink(){
			document.getElementById('frmAddUserCoppaSuccess:resendCoppaLink').style.color="#999";
			document.getElementById('frmAddUserCoppaSuccess:resendCoppaLink').style.cursor="default";
		}
		
	</script>
	<h:form id="frmAddUserCoppaSuccess">
	
	<div class="main_body">
		<c:set var="addUserCoppaTab" value="7"/>
        	<div class="create_h_hold_heading">
        		<span class="content_standard_color">
        			<truncate:truncateText text="#{addUserBean.userDisplayName}" start="0" end="-1"/></span><h:outputLabel value="#{labelMsgs.createUserAdded}"/>        		
            </div>
           <div class="body_container_above_gradiant">
				<div class="gradiant_box_left"></div>
				<div class="gradiant_box_middle">
					<img src="#{applicationScope.staticContentBaseUrl}/images/container_top_gradiant.jpg" width="978" height="2" align="top" alt="White_Gray_Gradiant"/>
				</div>
				<div class="gradiant_box_right"></div>
			</div>
             <!--  body content start   --> 
             	<div class="body_wrapper">                		
                        <div class="body_wrapper_left_shadow">                
                		</div>                        
                		<div class="body_wrapper_container">
                        	<div class="Your_next_steps">
	                            <b><h:outputLabel id="successNextSteps" value="#{labelMsgs.regSuccNextSteps}..."/></b>
	                            <span class="skip_this_right">
	                            	<h:commandLink tabindex="#{addUserCoppaTab}" id="successSkip1" title="#{labelMsgs.title_successSkipHousehold}" value="#{labelMsgs.regSuccSkip}" action="accountDashboardPage"/>
	                            </span>
                            </div>
                			<div class="CreateUser_content">
                                <div class="CreateUser_panel">
                                    <div class="Add_more_members_heading"><h:outputLabel value="#{labelMsgs.acceptCoppa} "/></div>
                                    <div class="UserStatus">
                                        <h:commandLink tabindex="#{addUserCoppaTab+1}" id="childUserProfile" title="#{labelMsgs.title_navUserProfile}" action="#{userProfileBean.navigateToUserProfile}">
                                            <f:param value="#{sessionScope.childNodeId}" name="selectedUserId"/>
                                            <div class="PendingMember_div140">
                                                <div class="MemberText140"><truncate:truncateText text="#{addUserBean.userDisplayName}" start="0" end="-1"/></div>
                                                <div class="memberImage140">
                                                    <div class="PendingStatusIcon"></div>
                                                    <div class="memberImage140AboveText"><h:outputLabel value="#{labelMsgs.pendingStatus} "/></div>
                                                </div>
                                            </div>
                                        </h:commandLink>
                                        <div class="UserTextMsg">
                                        	<h4><h:outputLabel value="#{labelMsgs.childrenAct}"/></h4><br/>
                                        	<h:outputLabel value="#{labelMsgs.underAge13Info1}"/>
											<truncate:truncateText text="#{addUserBean.userDisplayName}'s" start="0" end="-1"/>
											<h:outputLabel value=" #{labelMsgs.underAge13Info2}"/>
                                        </div>                                                    
                                     </div>
                                     <div class="StatusMsgBox">
                                         <div class="msgHeading">
                                             <img class="Fleft" title="#{labelMsgs.title_mailIcon}" src="#{applicationScope.staticContentBaseUrl}/images/mail_icon.png" width="94" height="93" />
                                             <div class="UserMsgText padding_top30">
                                                 <h4><h:outputLabel value="#{labelMsgs.coppaLink}"/>:<span class="FontItalic"><h:outputLabel value="#{headerBean.emailAddress}"/></span></h4>
                                             </div>                                                            
                                             <div class="MsgDescription">
                                                 <h:outputLabel value="#{labelMsgs.emailHelp}"/> 
												 <br/><br/>
												 <h:outputLabel value="#{labelMsgs.regSuccSendMsg}"/>&#160;<a4j:commandLink tabindex="#{addUserCoppaTab+2}" id="resendCoppaLink" title="#{labelMsgs.title_resendMail}" styleClass="violet_color_link" value="#{labelMsgs.regSuccSendMail}" onclick="javascript: resendLink(); this.onclick='null';" action="#{addUserBean.resendCOPPAEmail}" />																	
                                             </div>
                                         </div>
                                     </div>	                                   		
                                 </div>                                            
                                 <div class="CreateUser_panel">
                                     <div class="Add_more_members_heading">#{labelMsgs.setupAppsDevices}</div>
                                     <div class="players_devices_BoxMainDiv">
                                       	 <c:if test="#{applicationScope.devicesEnabled eq 'yes'}">
                                       	 <div class="DevicesListDiv">
                                       		 <div class="DevicesBoxSuccesspage">
                 <!--  AddDevicePopUp popup start -->
												 <div id="CoppaAddDevicePopUp" class="popupContact" style="z-index:10003;">
													 <div class="popup_textarea">
															<h3>#{labelMsgs.addDeviceTitle}</h3>
															<br /><br />
															<div id="AddAccountMsg">
																<h4 >#{labelMsgs.addDeviceMsg}</h4>
															</div>
															<div class="DisplayNone" id="ConnectionCodeMsg">
																<h4>#{labelMsgs.addDeviceMsg2}</h4>
															</div>
															<div id="deviceAddCode" class="PopUpButton Fleft" style="padding-left:40px; margin-top:40px;">
																<a4j:commandLink id="addDeviceCodeLabel"  style="padding-top:10px;"  title="#{labelMsgs.alt_addDeviceCodeLbl}" styleClass="CommonBtn_Link" action="#{householdDevicesBean.getAddDeviceCode}" oncomplete="chgAddDeviceDivs('GETCODE');" reRender="deviceCodeId">
																	<div>#{labelMsgs.addDeviceCodeLbl}</div>				
																</a4j:commandLink> 
																
																<a href="#" id="addDeviceClose" style="padding-top:10px;" class="CommonBtn_Link_Gray" title="#{labelMsgs.title_addDeviceClose}" onclick="javascript:disablePopup1('CoppaAddDevicePopUp', 'backgroundPopup')">
																	<div>#{labelMsgs.addDeviceClose}</div>				
																</a>
															</div>
															<div id="deviceClose" class="PopUpButton Fleft" style="padding-left:5px; margin-top:10px;display:none;">
																<h:inputText id="deviceCodeId" disabled="true" title="#{labelMsgs.alt_deviceCode}" style="width:95%;padding 0 5px; margin:10px 15px 0 0; clear:both; float:left; min-height:20px; color:black;" value="#{householdDevicesBean.deviceCode}"/>
																<br/>
																<br/>
																<div style="margin-left:175px;margin-top:30px;padding-top:10px;">
																	<h:commandLink id="popUpCloseLabel" style="padding-top:10px;" title="#{labelMsgs.title_closeLabel}" styleClass="CommonBtn_Link" action="addDeviceSuccessPage">
																		<div>#{labelMsgs.closeLabel}</div>				
																	</h:commandLink>
																</div>                                                   
															</div>
														</div>
													</div>			 
			     <!--  AddDevicePopUp popup end -->			
                                       				<div class="DevicesBoxDiv">
														<c:if test="#{householdDevicesBean.usrAddEnabled eq 'yes'}">
															<a href="#" tabindex="#{addUserCoppaTab+3}" id="addCoppaDeviceId" title="#{labelMsgs.title_addDevice}" onclick="openPopup('CoppaAddDevicePopUp', 'backgroundPopup');" class="AddNewDevice #{householdDevicesBean.deviceSlotsAvailable eq 0 ?DevicesFull:''}">
																<div class="DeviceName">#{labelMsgs.addDevice}</div>
																<div class="DeviceImg">
																	<div class="DeviceStatusIcon"></div>
																</div>
															</a>
														</c:if>
														<c:if test="#{householdDevicesBean.usrAddEnabled eq 'no'}">
															<a tabindex="#{addUserCoppaTab+3}" href="#" id="addCoppaDullDeviceId" title="#{labelMsgs.title_addDevice}" class="AddNewDeviceDull">
																<div class="DeviceName">#{labelMsgs.addDevice}</div>
																<div class="DeviceImg"></div>
															</a>
														</c:if>
														<div class="DevicesAvailable">
															<c:set var="devItr" value="0"/>
															<c:forEach items="#{householdDevicesBean.deviceList}" var="deviceItem">
																<c:set var="devItr" value="#{devItr+1}"/>							
																<c:if test="#{('DECE' == deviceItem.deviceType)?true:false}">
																	<a href="#" tabindex="#{addUserCoppaTab+3+devItr}" id="deviceDetailsId#{devItr}" class="DeviceActiveView" title="#{labelMsgs.title_viewDeviceDetails}" onclick="navigateViewDevice('DEVICE','#{deviceItem.deviceId}','DECE','frmCreateUserSuccess');">
																		<div class="DeviceImg">
																			<img src="#{deviceItem.displayImageUrl}" width="53" height="73" alt="#{labelMsgs.alt_img_displayImageUrl}"/>
																		</div>
																		<div class="UvvuIcon">                                            
																		</div>
																		<div class="DeviceName"><truncate:truncateText text="#{deviceItem.displayName}" start="0" end="#{sessionScope.devNamLen}"/></div>
																	</a>				
																</c:if>
																<c:if test="#{deviceItem.deviceType == 'LEGACY'}">
																	<a href="#" tabindex="#{addUserCoppaTab+3+devItr}" id="deviceDetailsId#{devItr}" class="DeviceActiveView" title="#{labelMsgs.title_viewDeviceDetails}" onclick="navigateViewDevice('DEVICE','#{deviceItem.deviceId}','LEGACY','frmCreateUserSuccess');">
																		<div class="DeviceImg">
																			<img src="#{deviceItem.displayImageUrl}" width="53" height="73" alt="#{labelMsgs.alt_img_displayImageUrl}"/>
																		</div>						
																		<div class="DeviceName"><truncate:truncateText text="#{deviceItem.displayName}" start="0" end="#{sessionScope.devNamLen}"/></div>
																	</a>
																</c:if>
																<c:if test="#{deviceItem.deviceId == 'NOTAVAILABLE'}">
																	<a tabindex="#{addUserCoppaTab+3+devItr}" href="#" id="deviceDetailsId#{devItr}" class="DeviceDullView" title="#{labelMsgs.title_avail}">
																		<div class="DeviceName">#{labelMsgs.available}</div>		
																	</a>
																</c:if>		
															</c:forEach>		
															<c:if test="#{((householdDevicesBean.devicesCount ge 12))}">	
																<div class="AvailableTextCount">
																	<h:outputLabel value="#{labelMsgs.devicesMaxInfo}"/>
																</div>
															</c:if>
															<c:if test="#{((householdDevicesBean.devicesCount lt 12))}">
																<div class="AvailableTextCount">
																	<h:outputLabel value="#{labelMsgs.availablePart1}"/>
												               		<h:outputFormat value="#{labelMsgs.availablePart2}.">
												                    	<f:param value="#{householdDevicesBean.deviceSlotsAvailable}"/>
												                    </h:outputFormat>
																</div>	
															</c:if>	
														</div>	
													</div>
                                       			</div>
                                       		</div>
                                       	<c:if test="#{householdDevicesBean.deviceList ne null}">	
                                      	    <div class="CurrentUsingDevices">
                                      	    	<div class="UsingDevicesHeading">#{labelMsgs.uvOptDevices}</div>
                                      	    	<div class="border_lineLightColor"/>
                                      	    	<c:set var="itr" value="0"/>                                    
               									<c:forEach items="#{householdDevicesBean.deviceList}" var="uvdevice">
               										<c:if test="#{'DECE' == uvdevice.deviceType?true:false}">
                  										<c:set var="itr" value="#{itr+1}"/>
														<c:if test="#{itr eq '1' || (itr % 2) eq '1'}">
															<h:outputText escape="false" value="&lt;div class=&quot;clearBoth&quot; &gt;"/>
														</c:if>	
                  										<c:if test="#{uvdevice.playerFlag=='true'?true:false}">
                  											<div class="DeviceDetails">
                  												<div class="DeviceBrandLogo">
                  													<img src="#{uvdevice.displayImageUrl}" alt="#{labelMsgs.alt_img_displayImageUrl}"/>
                  												</div>
                  												<div class="DeviceBrandDetails">
                  													<div class="MemberName" >
                  														<div class="UserPc Cursorpointer" onclick="navigateViewDevice('DEVICE','#{uvdevice.deviceId}','DECE','frmCreateUserSuccess');">
                  															<truncate:truncateText text="#{uvdevice.displayName}" start="0" end="13"/>
                  														</div>
                  													</div>
                  													<div class="Device"></div>
                  													<div class="OptimizedDeviceText">#{labelMsgs.uvOptDevices}</div>
                  												</div>
										                     </div>	
										                    </c:if>
										                    <c:if test="#{itr &gt; '1' &amp;&amp; (itr % 2) eq '0'}">
																<h:outputText escape="false"  value="&lt;/div&gt;"/>
															</c:if>
                  											<div class="border_lineLightColor"/>
                  										</c:if>
               									</c:forEach>
                                      	    </div>
                                       </c:if>
                                       <c:if test="#{householdDevicesBean.deviceList ne null}">
		                                    <div class="CurrentUsingDevices">
		                                    	<div class="UsingDevicesHeading">#{labelMsgs.uvCompatible}s</div>
		                                    	<div class="border_lineLightColor"/>
		                                    	<ui:repeat value="#{householdDevicesBean.deviceList}" var="uvcompdevice">
								                	<f:subview id="uvcompdevicelist" rendered="#{'LEGACY' == uvcompdevice.deviceType}">
							                		  <div class="DeviceDetails">
							                     		<div class="DeviceBrandLogo">
							                                <img src = "#{uvcompdevice.displayImageUrl}" alt="#{labelMsgs.alt_img_displayImageUrl}" />
							                        	</div>
							                        	<div class="DeviceBrandDetails">
							                        	   <div class="MemberName">
							                        		  <div class="UserPc Cursorpointer" onclick="navigateViewDevice('DEVICE','#{uvcompdevice.deviceId}','LEGACY','frmCreateUserSuccess');">
							                        			  <truncate:truncateText text="#{uvcompdevice.displayName}" start="0" end="13"/>
							                        		  </div>
							                        	   </div>
							                        	   <div class="Device"></div>
							                      		   <div class="CompatibleText">#{labelMsgs.uvCompatible}</div>
													    </div>
													  </div>
							                 	 </f:subview>
						                 	 </ui:repeat>
		                            	   </div>
		                            	  </c:if>
	                            	   </c:if>
	                            	   <c:if test="#{applicationScope.devicesEnabled eq 'no'}">
					                      <ui:include src="/resources/sections/devices/devicesComingSoon.xhtml"/>
									  </c:if> 
                                	</div>
                             	</div>
                            </div>
                          <div class="Your_next_steps">                            
                            <span class="skip_this_right"><h:commandLink id="successSkip2" tabindex="#{addUserCoppaTab+devItr+4}" title="#{labelMsgs.title_successSkipHousehold}" value="#{labelMsgs.regSuccSkip}" action="accountDashboardPage"/></span>
                            </div>
                		</div>
                        <div class="body_wrapper_right_shadow">
                		</div>                
                </div>             
        </div>  
	</h:form>
</ui:composition>