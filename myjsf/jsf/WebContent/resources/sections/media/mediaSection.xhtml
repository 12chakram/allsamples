<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:a4j="http://richfaces.org/a4j">	

	<a4j:outputPanel id="dataPanel" >
		<h:inputHidden tabindex="-1" id="myPurchasedMedia" value="#{ourMediaBean.myPurchasedMedia}"/>
		<h:inputHidden tabindex="-1" id="selectedType" value="#{ourMediaBean.selectedType}"/>
		<h:inputHidden tabindex="-1" id="selectedGenre" value="#{ourMediaBean.selectedGenre}"/>
		<h:inputHidden tabindex="-1" id="selectedRetailer" value="#{ourMediaBean.selectedRetailer}"/>
		<h:inputHidden tabindex="-1" id="currentPage" value="#{ourMediaBean.currentPage}"/>
		<h:inputHidden tabindex="-1" id="pageSize" value="#{ourMediaBean.pageSize}"/>
		<h:inputHidden tabindex="-1" id="prevPageSize" value="#{ourMediaBean.prevPageSize}"/>
		<h:inputHidden tabindex="-1" id="totalPages" value="#{ourMediaBean.totalPages}"/>
		<h:inputHidden tabindex="-1"  id="paginationAction" value="#{ourMediaBean.paginationAction}"/>
		<h:inputHidden tabindex="-1" id="pageView" value="#{ourMediaBean.pageView}"/>
		<h:inputHidden tabindex="-1" id="sortViewBy" value="#{ourMediaBean.sortViewBy}"/>
		<h:inputHidden tabindex="-1" id="viewMediaTitle" value="#{ourMediaBean.viewMediaTitle}"/>
		<h:inputHidden tabindex="-1" id="favAction" value="#{ourMediaBean.favAction}"/>
		<h:inputHidden tabindex="-1" id="srchTxtInput" value="#{ourMediaBean.searchMediaTxt}"/>
		<h:inputHidden tabindex="-1" id="mediaTitleId" value="#{ourMediaBean.mediaTitleId}"/>
		<h:inputHidden tabindex="-1" id="myFavortiesId" value="#{ourMediaBean.favortiesObj}"/>
		</a4j:outputPanel>
		<a4j:outputPanel id="mediaDetailPanel" >
			<h:inputHidden id="mediaFlagID" value="#{ourMediaBean.forFavFlagStatus}"/>
	   </a4j:outputPanel>
		<a4j:commandLink id="submitLink"  action="#{ourMediaBean.refreshData}" render="dataPanel,mediaView" oncomplete="setPgLinks();" title="#{labelMsgs.mediaInaAccount}"/>
		<a4j:commandLink id="detailMediaForFav"  action="#{ourMediaBean.forFavortiesFlagSet}" render="mediaDetailPanel,mediaView" />
	 
    <!-- //////////////// main body start //////////////////////////   -->    
        <div class="main_body">
        	<div class="ourMedia_heading">
        		<h1 class="Fleft"><h:outputLabel styleClass="content_standard_color"  value="#{headerBean.householdName}"/>&#160;#{labelMsgs.media}</h1>               
            </div>
            <div class="body_container_above_gradiant">
            		<div class="gradiant_box_left">       			    	
                    </div>
                    <div class="gradiant_box_middle">
               	    <img class="gradiant_img" src="#{applicationScope.staticContentBaseUrl}/images/container_top_gradiant.jpg" width="978" height="2" align="top" alt="#{labelMsgs.alt_img_container_top_gradiant}" /></div>
                    <div class="gradiant_box_right">                    
                    </div>            
            </div>
            
            
             <!-- //////////////// body content start //////////////////////////   --> 
             	<div class="body_wrapper">
                		
                        <div class="body_wrapper_left_shadow">
                
                		</div>
                        
                		<div class="body_wrapper_container">
                        	
                			<div class="mediaBody_Container">	
                            		<div class="mediaBody_left">
                                    	<div class="BrowseMediaBox">
                                        	<div class="headingMedia">#{labelMsgs.browseMedia}</div>
                                        	<div class="Media_fields field_Paddingtop20">
                                            	<div class="Field_Heading">#{labelMsgs.user}</div>
                                            	<div class="Field_All">
	                                            		<c:set var="mediaSectionTab" value="7"/>
	                                            		<a tabindex="#{mediaSectionTab}" style="cursor:pointer;"  class="textDecorationNone" id="lnkmyPurchasedMeida" title="#{labelMsgs.allUser}" onclick="javascript:setVal(this,'myPurchasedMedia','all','allUsers');">#{labelMsgs.allUser}</a>
                                            	</div>                                            	
                                                <div class="Fields_media">
	                                                <ul>
	                                            		<li>
	                                            			<a tabindex="#{mediaSectionTab+1}" style="cursor:pointer;"  id="favourtiesid" onclick="setVal(this,'myFavortiesId','fav','selectedFavortie');" title="#{labelMsgs.myFavorties}">#{labelMsgs.myFavorties}</a>
	                                                			<img src="#{applicationScope.staticContentBaseUrl}/images/favoritesIcon.png" width="11" height="10" />
														</li>
														<li>
	                                                		<a tabindex="#{mediaSectionTab+2}" style="cursor:pointer;"  id="myPurchasedMediaAll" onclick="setVal(this,'myPurchasedMedia','my','userSelectedType');" title="#{labelMsgs.yourPurchases}"> #{labelMsgs.yourPurchases}  </a>
														</li>
	                                            	</ul>
												</div>
                                            </div>
                                            <div class="Media_fields">
                                            	<div class="Field_Heading">#{labelMsgs.byType}</div>
                                                <div class="Field_All"><a tabindex="#{mediaSectionTab+3}" style="cursor:pointer;" id="selectedTypeAll" onclick="setVal(this,'selectedType','All','allTypes');" title="#{labelMsgs.allTypes} "> #{labelMsgs.allTypes}  </a></div>
                                                <div class="Fields_media">
                                                	<ul>
                                                	<c:set var="byTypeListVal" value="#{mediaSectionTab+4}"/>
                                                		<c:forEach items="#{ourMediaBean.byTypeList}" var="typeItem">
                                                    		<li>
                                                    			<a tabindex="#{byTypeListVal}" title="#{typeItem}" id="#{typeItem}" onclick="setVal(this,'selectedType','#{typeItem}','selectedType');">#{typeItem}</a>
                                                    			<c:set var="byTypeListVal" value="#{byTypeListVal+1}"/>
                                                    		</li>
                                                        </c:forEach>
                                                    </ul>
                                                </div>
                                            </div>
                                            
                                            <div class="Media_fields">
                                            	<div class="Field_Heading">#{labelMsgs.byGenre}</div>
                                                <div class="Field_All"><a tabindex="#{byTypeListVal}" style="cursor:pointer;"  id="selectedGenreAll" onclick="setVal(this,'selectedGenre','All','allGenres');" title="#{labelMsgs.allGenres}"> #{labelMsgs.allGenres}  </a></div>
                                                <div class="Fields_media">
                                                	<ul>
                                                	<c:set var="byGenreTypeVal" value="#{byTypeListVal+1}"/> 
                                                	   <c:forEach items="#{ourMediaBean.byGenreList}" var="genreTypeItem">
                                                    		<li>
                                                    		<a tabindex="#{byGenreTypeVal}" title="#{genreTypeItem}" id="#{genreTypeItem}" onclick='setVal(this,"selectedGenre","#{genreTypeItem}","selectedGenre");'>#{genreTypeItem}</a>
                                                    		<c:set var="byGenreTypeVal" value="#{byGenreTypeVal+1}"/>
                                                    		</li>
                                                        </c:forEach>
                                                   </ul>
                                                </div>
                                            </div>
                                            
                                            <div class="Media_fields no_border_line" >
                                            	<div class="Field_Heading">#{labelMsgs.byRetailer}</div>
                                                <div class="Field_All"><a tabindex="#{byGenreTypeVal}" style="cursor:pointer;" id="selectedRetailerAll" onclick="setVal(this,'selectedRetailer','All','allRetailers');" title=" #{labelMsgs.allRetailers}"> #{labelMsgs.allRetailers}  </a></div>
                                               <div class="Fields_media">
                                                   <ul>
                                                   		<c:set var="symOpen" value="("/>
                                                   		<c:set var="retailerval" value="#{ourMediaBean.itemFmt}"/>
                                                   		<c:set var="byretailerVal" value="#{byGenreTypeVal+1}"/>
                                                    	<c:forEach items="#{ourMediaBean.byRetailerList}" var="retailerTypeItem">
                                                    	<c:set var="retailerval" value="#{fn:substringBefore(retailerTypeItem,symOpen)}"/>
                                                    		<li>
                                                    			<a tabindex="#{byretailerVal}" title="#{retailerval}" id="#{retailerval }" onclick="setVal(this,'selectedRetailer','#{fn:substringAfter(retailerTypeItem,symOpen)}','selectedRetailer');">#{fn:substringBefore(retailerTypeItem,"(")}</a>
                                                    			<c:set var="byretailerVal" value="#{byretailerVal+1}"/>
                                                    		</li>
                                                        </c:forEach>
                                                   </ul>
                                                	                                              	
                                                </div>
                                            </div>
                                            
                                        </div>
                                    
                                    </div>
                                    <div class="mediaBody_right"> 
                                    <a4j:outputPanel id="mediaView">
                                        <c:if test="#{ourMediaBean.mediaListSize &gt; 0}">
	                                        <f:subview id="listView" rendered="#{ourMediaBean.pageView == 'LIST'}">
												<ui:include src="mediaListView.xhtml"/>
											</f:subview>
											<f:subview id="gridview" rendered="#{ourMediaBean.pageView == 'GRID'}">
												<ui:include src="mediaGridView.xhtml"/>
											</f:subview>
											<f:subview id="detailview" rendered="#{ourMediaBean.pageView == 'DETAILLIST'}">
												<ui:include src="mediaDetailListView.xhtml"/>
											</f:subview>	
											<f:subview id="srchResultsView" rendered="#{ourMediaBean.pageView == 'SEARCH'}">
													<ui:include src="mediaSearchView.xhtml"/>
											</f:subview>
											<f:subview id="srchToDetailView" rendered="#{ourMediaBean.pageView == 'DETAIL'}">
													<ui:include src="mediaDetailView.xhtml"/>
											</f:subview>								
										</c:if>
										<c:if test="#{ourMediaBean.mediaListSize eq 0 || ourMediaBean.mediaListSize &lt; 0}">
                                        	<div class="NoMediaTitle">#{labelMsgs.mediaNotAvailable}</div>
										</c:if>
                                    </a4j:outputPanel>
                                    </div>
                                    
                                    
                            </div>
                            
                		</div>
                        
                        <div class="body_wrapper_right_shadow">
                
                		</div>
               </div>
             
             <!-- //////////////// body content end //////////////////////////   --> 
        
        </div>
       <!-- //////////////// main body end //////////////////////////   --> 
      
</ui:composition>