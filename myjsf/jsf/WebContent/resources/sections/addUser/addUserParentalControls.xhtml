<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:truncate="http://www.dece.com/jsf"
	xmlns:c="http://java.sun.com/jsp/jstl/core"	
	xmlns:fn="http://java.sun.com/jsp/jstl/functions"
	xmlns:rich="http://richfaces.org/rich">
	
	<script type="text/javascript">
	function showdiv1(cid, eid, movieratingid)
					{
						var collapse = document.getElementById(cid);
						var expand = document.getElementById(eid);
						var movieratings = document.getElementById(movieratingid);
					
						for(i=1; i&lt;=2; i++)
						{
							if(collapse.id == "collapse"+i &amp;&amp; expand.id=="expand"+i &amp;&amp; movieratings.id=="movierating"+i)
							{
								collapse.style.display = "inline";
								expand.style.display = "none";
								movieratings.style.display = "block";
							}else{
								document.getElementById("collapse"+i).style.display="none";
								document.getElementById("expand"+i).style.display="inline";
								document.getElementById("movierating"+i).style.display = "none";
							}
						}
					}
	function showdiv(cid, eid, movieratingid)
	{
		var collapse = document.getElementById(cid);
		var expand = document.getElementById(eid);
		var movieratings = document.getElementById(movieratingid);
				collapse.style.display = "inline";
				expand.style.display = "none";
				movieratings.style.display = "block";
	}
		
	function hidediv(cid, eid, movieratingid)
	{
		var collapse = document.getElementById(cid);
		var expand = document.getElementById(eid);
		var movieratings = document.getElementById(movieratingid);
			
			collapse.style.display = "none";
			expand.style.display = "inline";
			movieratings.style.display = "none";
	}
					function hidediv1(cid, eid, movieratingid)
					{
						var collapse = document.getElementById(cid);
						var expand = document.getElementById(eid);
						var movieratings = document.getElementById(movieratingid);
							
							collapse.style.display = "none";
							expand.style.display = "inline";
							movieratings.style.display = "none";
					}
					function saveParentalValues(){
			        	document.getElementById('frmAddUserParentalCtrls:parentalControlContinue').click();
			        }
	</script>
	<h:form id="frmAddUserParentalCtrls">
		<h:inputHidden tabindex="-1" value="#{addUserBean.addUserValueMap.securityAccess}"></h:inputHidden>
		<h:inputHidden value="#{addUserBean.addUserValueMap.checkRadioFlag}"></h:inputHidden>
		<h:inputHidden tabindex="-1" value="#{addUserBean.addUserValueMap.parentalControlsRenderFlag}" id="parentalControlsRenderFlag" />
		<h:inputHidden tabindex="-1" value="#{addUserBean.addUserValueMap.ageDetails}"></h:inputHidden> 
	 	<h:inputHidden tabindex="-1" value="#{addUserBean.addUserValueMap.dobMonthValue}"></h:inputHidden>
		<h:inputHidden tabindex="-1" value="#{addUserBean.addUserValueMap.dobDateValue}"></h:inputHidden> 
		<h:inputHidden tabindex="-1" value="#{addUserBean.addUserValueMap.dobYearValue}"></h:inputHidden> 
		<h:inputHidden tabindex="-1" value="#{addUserBean.addUserValueMap.memberUserName}"></h:inputHidden>  
		<h:inputHidden tabindex="-1" value="#{addUserBean.addUserValueMap.memberFirstName}"></h:inputHidden>
		<h:inputHidden tabindex="-1" value="#{addUserBean.addUserValueMap.memberLastName}"></h:inputHidden>
		<h:inputHidden tabindex="-1" value="#{addUserBean.addUserValueMap.memberEmailAddress}"></h:inputHidden> 
		<h:inputHidden tabindex="-1" value="#{addUserBean.addUserValueMap.password}"></h:inputHidden> 
		<h:inputHidden tabindex="-1" value="#{addUserBean.addUserValueMap.confirmPassword}"></h:inputHidden> 
		<h:inputHidden tabindex="-1" value="#{addUserBean.addUserValueMap.secretQuestion1}"></h:inputHidden>  
		<h:inputHidden tabindex="-1" value="#{addUserBean.addUserValueMap.secretQuestion1}"></h:inputHidden>  
		<h:inputHidden tabindex="-1" value="#{addUserBean.addUserValueMap.secretAnswer1}"></h:inputHidden>  
		<h:inputHidden tabindex="-1" value="#{addUserBean.addUserValueMap.secretQuestion2}"></h:inputHidden>  
		<h:inputHidden tabindex="-1" value="#{addUserBean.addUserValueMap.secretAnswer2}"></h:inputHidden>  
		<h:inputHidden tabindex="-1" value="#{addUserBean.addUserValueMap.termsOfUse}"></h:inputHidden>    
		<h:inputHidden tabindex="-1" value="#{addUserBean.addUserValueMap.countryName}"></h:inputHidden>
		<h:inputHidden tabindex="-1" id="ustv" value="#{addUserBean.tvSliderValue}"></h:inputHidden>  
		<h:inputHidden tabindex="-1" id="usmovie" value="#{addUserBean.movieSliderValue}"></h:inputHidden>  
		<h:inputHidden tabindex="-1" id="gbmovie" value="#{addUserBean.ukRatingSliderValue}"></h:inputHidden>  
		<h:inputHidden tabindex="-1" id="catv" value="#{addUserBean.catvvalue}"></h:inputHidden>    
		<h:inputHidden tabindex="-1" id="camovie" value="#{addUserBean.camovievalue}"></h:inputHidden>
		
		<!-- Begin of Main body --> 
	<div class="main_body">
		<c:set var="addUserParentTab" value="7"/>
        	<div class="create_h_hold_heading">
        		<h1 class="Fleft">
        		 	<h:outputLabel value="#{labelMsgs.newMember}"/>
        		 	<span class="content_standard_color"><h:outputLabel value="#{headerBean.householdName}"/></span><h:outputLabel value="#{labelMsgs.household}"/>
        		 </h1>
                <div class="Cancel_Registration">
                	<h:commandLink tabindex="#{addUserParentTab}" id="addUserCancel" title="#{labelMsgs.cancelAddMember}" value="#{labelMsgs.cancelAddMember}" onclick="return handleSaveChangesPopup(this.id);" action="myHouseholdPage"/>
                </div>
            </div>
            <div class="body_container_above_gradiant">
            		<div class="gradiant_box_left">
                    </div>
                    <div class="gradiant_box_middle">
               	    	<img class="gradiant_img" src="#{applicationScope.staticContentBaseUrl}/images/container_top_gradiant.jpg" width="978" height="2" align="top" alt="White_Gray_Gradiant" /></div>
                    <div class="gradiant_box_right">
                    </div>
            </div>

		<!-- Begin of Create user step-3 Active -->   
			<div class="h_hold_menu_Add_step3_active">
             	<div class="menu_bar_top_shadow">
                	</div>
                	<div class="menu_bar_steps">
            		<div class="create_h_hold_step_1">
                	<div class="step_1_icon">
                    </div>
                    <div class="step_1_menu_text">
                    		<table class="table" cellpadding="0" cellspacing="0">
                            <tr><td>
                           		<h:outputLabel title="#{labelMsgs.newMemberDetails}"  id="addUser_newMember" value="#{labelMsgs.newMemberDetails}"/>
                            </td></tr>
                            </table> 
                    </div>
                	</div>
                <div class="create_h_hold_step_2_left">
                </div>
            	<div class="create_h_hold_step_2">
                	<div class="step_2_icon">
                    </div>
                    <div class="step_2_menu_text">
                    		<table class="table" cellpadding="0" cellspacing="0">
                            <tr><td>
                          		<h:commandLink title="#{labelMsgs.securityPermissions}" tabindex="#{addUserParentTab+2}" id="addUser_securityPmns" action="#{addUserBean.goToStep2}" value="#{labelMsgs.securityPermissions}"/>
                            </td></tr>
                            </table>  
                    </div>
                </div>
                <div class="create_h_hold_step_3_left">
                </div>
                <div class="create_h_hold_step_3">
                		<div class="step_3_icon">
                    </div>
                    <div class="step_3_menu_text">
                    		<table class="table" cellpadding="0" cellspacing="0">
                            <tr><td>
                           	<h:outputLabel value="#{labelMsgs.setParentalControls}"/>	
                            </td></tr>
                            </table> 
                    </div>
                </div>
                <div class="create_h_hold_step_3_right">
                </div>
                </div>
                <div class="menu_bar_bottom_shadow">
                		<div class="menu_bar_bottom_shadow_left"></div>
                        <div class="menu_bar_bottom_shadow_middle"></div>
                        <div class="menu_bar_bottom_shadow_right"></div>
                </div>
            </div>
		<!-- End of Create user step-3 Active -->
 		<!-- Begin of Body content -->   
 			<div class="body_wrapper">
                  <div class="body_wrapper_left_shadow"></div>
                		<div class="body_wrapper_container">
                        	<div class="create_user_step2_topContent">
                           		<span class="HavingTrouble">
                          			<h:outputLabel value="#{labelMsgs.havingTrouble}" for="frmAddUserParentalCtrls:helpLink"/>
                          			<h:commandLink id="helpLink" tabindex="#{addUserParentTab+3}" title="#{labelMsgs.helpNfaq}" styleClass="Common_pointer"  value="#{labelMsgs.helpNfaq}" onclick="return handleSaveChangesPopup(this.id);" action="authHelpPage" >
										<f:setPropertyActionListener value="profile" target="#{help.helpNav}"/>
					      			</h:commandLink>
                          		</span> 
                            </div>
                			<div class="create_Access_Controls">
                            	<div class="levelOfAccess">
                                    <span class="levelOfAccess_title">
                                    	<span class="FontWeight">
                                    		 <truncate:truncateText text="#{addUserBean.addUserValueMap.memberDisplayNameTemp ne '' &amp;&amp; addUserBean.addUserValueMap.memberDisplayNameTemp ne null ?addUserBean.addUserValueMap.memberDisplayNameTemp:addUserBean.addUserValueMap.memberUserName}" start="0" end="-1"/>:
                                    	  </span> 
                                    	</span>
	                                    	<div class="#{addUserBean.addUserValueMap.disableParentalControls eq 'true'?'controls_permitions_title':'DisplayNone'}" id="disableParentalControls">
	                                    		<div class="permitionText">
		                                        	<h:outputLabel value="#{labelMsgs.parentalControlsAre} "/>
		                                        	<span class="green_parrot">
		                                        		<h:outputLabel value="#{addUserBean.addUserValueMap.parentalControlsDisabled == 'enabled'? labelMsgs.on:labelMsgs.off}"/>
		                                        	</span>
		                                        	<h:outputLabel value="#{labelMsgs.forThisMember}"/>
	                                        	</div>
	                                        	<span class="DisableParental">
	                                        		<h:commandLink id="disableParentalControlLink" tabindex="#{addUserParentTab+4}" title="#{labelMsgs.disableParentalctrls}" value="#{labelMsgs.disableParentalctrls}" onclick="parentalControlsRender('frmAddUserParentalCtrls','enable');toggleHintMsg('addUserPageError','none');return false;" rendered="#{sessionScope.privilege!='STANDARD' &amp;&amp; addUserBean.addUserValueMap.ageDetails eq 'ADULT'}"/>
	                                        	</span>
	                                        </div>
	                                        <div class="#{addUserBean.addUserValueMap.enableParentalControls eq 'true'?'controls_permitions_title':'DisplayNone controls_permitions_title'}" id="enableParentalControls">
	                                        	<div class="permitionText">
		                                        	<h:outputLabel value="#{labelMsgs.parentalControlsAre}"/>
		                                        	<span class="green_parrot">
		                                        	<h:outputLabel value="#{labelMsgs.off}"/> 
		                                        	</span>
		                                        	<h:outputLabel value="#{labelMsgs.forThisMember}"/> 
	                                        	</div> 
	                                        	<span class="DisableParental">
	                                        		<h:commandLink id="enableParentalControlLink" tabindex="#{addUserParentTab+4}" title="#{labelMsgs.enableParentalctrls}" value="#{labelMsgs.enableParentalctrls}" onclick="parentalControlsRender('frmAddUserParentalCtrls','disable');toggleHintMsg('addUserPageError','none');return false;" rendered="#{sessionScope.privilege!='STANDARD' &amp;&amp; addUserBean.addUserValueMap.ageDetails eq 'ADULT'}"/>
	                                        	</span>
	                                        </div>
                                </div>
                               	<div style="min-height:429px;">
                                    <div id="parentalControlsPanel">
                                  	   <h:panelGroup id="parentalControlsPanelId" rendered="#{addUserBean.addUserValueMap.parentalControlsDisabled == 'disabled'?'false':'true'}"> 
                                       <div class="parental_controls parental_controlsAdd" id="parentalControlsSection">
                                     <!-- Start of Slider code-->	
                                    	<div style="background:#000; float:left; width:100%;">        
                                    		<div class="controls_top_text">
	                                    		<c:if test="#{sessionScope.privilege eq 'STANDARD'}">
	                                    			<h:outputLabel value="#{labelMsgs.parentalControlNote}"/>
	                                    		</c:if>
	                                    		<c:if test="#{sessionScope.privilege ne 'STANDARD'}">
	                                    			<h:outputLabel value="#{labelMsgs.selectRating}"/><br/>
	                                    			<h:outputLabel styleClass="FontItalic paddingTop10 Fleft" value="#{labelMsgs.parentalControlInfo1}"/>
	                                    		</c:if>
                                    		</div>
                                    		
											<div class="CountrysMovieRatings" style="margin-top: 18px;" id="RatingSlider">
											<c:set var="count" value="1"/>
											<c:forEach items="#{addUserBean.ratingMap}" var="ratings" step="1">
	                                            <div class="MovieRatingCountryTitle">
	                                                <a id="collapse#{count}" title="#{labelMsgs.collapseLabel}" class="CollapseMode" style="display:#{count eq 1?'block':'none'};" onclick="javascript:hidediv( 'collapse#{count}','expand#{count}','movierating#{count}')">#{ratings.key}</a>
	                                                <a id="expand#{count}" title="#{labelMsgs.expandLabel}" class="ExpandMode" style="display:#{count eq 1?'none':'block'};" onclick="javascript:showdiv('collapse#{count}' , 'expand#{count}' , 'movierating#{count}')">#{ratings.key}</a>
	                                            </div>
	                                        
	                                            <div id="movierating#{count}" class="MovieRatings" style="padding-left:10px;display:#{count eq 1?'block':'none'};">
	                                            <c:forEach items="#{ratings.value}" var="ratingsList">
	                                                <div class="slider_outer" >
					                                    <div class="movie_ratings">#{ratingsList.description}&#160;(<span class="violet_color_link"><a href="#{ratingsList.systemUrl}" title="#{labelMsgs.mpaa}" target="_blank">#{ratingsList.system}</a></span>)</div>  
														<c:set var="totalwidth" value="600"/>
														<c:set var="totalsteps" value="#{fn:length(ratingsList.ratingValues)}"/>
														<c:set var="avaragewidth" value="#{(totalwidth)/(totalsteps-1)}"/>
														<ui:param name="ratingKey" value="#{ratingsList.system}#{ratingsList.country}slider"/>
														<div class="sliderLeftGap">
															<rich:inputNumberSlider showInput="false" width="618"
																enableManualInput="true" showBoundaryValues="false" showTooltip="false" value="#{addUserBean.addUserValueMap[ratingKey]}"
																step="#{avaragewidth}" maxValue="600" minValue="0" id="#{ratingsList.system}#{ratingsList.country}slider">
															</rich:inputNumberSlider>
														</div> 
													   <div>
													   <c:set var="i" value="1"/>
													   <c:forEach items="#{ratingsList.ratingValues}" var="permissionMovieInfo">
													   <c:set var="paddingvalue" value="#{fn:length(permissionMovieInfo) eq 1?2:fn:length(permissionMovieInfo) eq 2?-4:fn:length(permissionMovieInfo) eq 3?-6:fn:length(permissionMovieInfo) eq 4?-8:fn:length(permissionMovieInfo) eq 5?-10:fn:length(permissionMovieInfo) eq 6?-12:fn:length(permissionMovieInfo) eq 7?-14:fn:length(permissionMovieInfo) eq 8?-16:-2}"/>
															<span class="RatingTitlespan" style="width:#{i ne totalsteps?avaragewidth:0}px;">
																<span style="margin-left:#{paddingvalue}px;">												
																	<a4j:commandLink title="#{permissionMovieInfo}" tabindex="#{sessionScope.privilege=='STANDARD'?'-1':''}" id="#{ratingsList.system}#{i}" render="#{ratingsList.system}#{ratingsList.country}slider">
																		<span>
																			<h:outputText title="#{permissionMovieInfo}" value="#{permissionMovieInfo}"/>
																		</span>
																	</a4j:commandLink>
																</span>
															</span>
															<c:set var="i" value="#{i+1}"/>
														</c:forEach>
														</div>
				                                	</div>
				                                	</c:forEach>				                                
	                                           	<a class="Cursorpointer Less" id="lessLabel_1" title="#{labelMsgs.lessLabel}" onclick="javascript:hidediv('collapse#{count}','expand#{count}','movierating#{count}')">#{labelMsgs.lessLabel}</a><h:outputLabel styleClass="violet_color_link FontWeight Fright">...</h:outputLabel>
	                                           	<c:set var="count" value="#{count+1}"/>
	                                           	</div>
	                                        </c:forEach>
                                        	</div>
	                                    
                                    </div>
                                     <!-- End of Slider code--> 
                                        <div class="Additionalfilters">
                                         	<div class="AdditionalContent"><h:outputLabel value="#{labelMsgs.contentFilter}"/></div>
                                        	<div class="filter_steps">
                                           		<div> 
                                           			<c:if test="#{sessionScope.privilege!='STANDARD'}">
	                                          			<h:selectBooleanCheckbox id="blockExplicitMusicVideos" title="#{labelMsgs.blockExplicitMusicVideos}" tabindex="#{addUserParentTab+7}" value="#{addUserBean.addUserValueMap.blockExplicitMusicVideos}"/>
	                                          		</c:if>
	                                          		<c:if test="#{sessionScope.privilege=='STANDARD'}">
	                                          			<h:selectBooleanCheckbox id="blockExplicitMusicVideos" title="#{labelMsgs.blockExplicitMusicVideos}" tabindex="-1" value="#{addUserBean.addUserValueMap.blockExplicitMusicVideos}"/>
	                                          		</c:if>
                                           			<span class="FontWeight"><h:outputLabel value="#{labelMsgs.blockExplicitMusicVideos}"/></span>
                                               	</div>
                                          		<div class="filter_steps_text"><h:outputLabel value="#{labelMsgs.explicitLyricInfo}"/></div>
                                            </div>
                                            <div class="filter_steps">
                                            <div id="readOnlyAdultContent" class="BlockAdultContent"></div>
                                            	<div> 
                                            		<c:if test="#{addUserBean.addUserValueMap.ageDetails == 'ADULT' &amp;&amp; sessionScope.privilege!='STANDARD'}">
	                                          			<h:selectBooleanCheckbox title="#{labelMsgs.blockAdultContent}" tabindex="#{addUserParentTab+8}" value="#{addUserBean.addUserValueMap.blockAdultContent}" id="blockAdultContent"/>
	                                          		</c:if>
	                                          		<c:if test="#{addUserBean.addUserValueMap.ageDetails != 'ADULT' || sessionScope.privilege=='STANDARD'}">
	                                          			<h:selectBooleanCheckbox title="#{labelMsgs.blockAdultContent}" tabindex="-1" value="#{addUserBean.addUserValueMap.blockAdultContent}" id="blockAdultContent" onclick="this.checked='checked'"/>
	                                          		</c:if>
                                            		<span class="FontWeight"><h:outputLabel value="#{labelMsgs.blockAdultContent}"/></span>
                                            	</div>
                                           		<div class="filter_steps_text"><h:outputLabel value="#{labelMsgs.adultContentInfo}"/></div>
                                            </div>
                                            <div class="filter_steps">
                                            	<div> 
                                            		<c:if test="#{sessionScope.privilege!='STANDARD'}">
                                            			<h:selectBooleanCheckbox id="blockUnratedcontent" title="#{labelMsgs.blockUnratedContent}" tabindex="#{addUserParentTab+9}" value="#{addUserBean.addUserValueMap.blockUnratedContent}" />
                                            		</c:if>
                                            		<c:if test="#{sessionScope.privilege=='STANDARD'}">
                                            			<h:selectBooleanCheckbox id="blockUnratedcontent" title="#{labelMsgs.blockUnratedContent}" tabindex="-1" value="#{addUserBean.addUserValueMap.blockUnratedContent}" />
                                            		</c:if>
                                            		<span class="FontWeight"><h:outputLabel value="#{labelMsgs.blockUnratedContent}"/></span>
                                                </div>
                                           		<div class="filter_steps_text"><h:outputLabel value="#{labelMsgs.unratedContentInfo}"/></div>
                                            </div>
                                        </div>
                                    </div>
                                   </h:panelGroup>
                                   </div>
                                </div>
                            </div>
                            <div class="border_line">
                            </div>
  							<div class="h_hold_continue_btn">
                            	<div class="button_input">
                            		<h:commandButton tabindex="#{addUserParentTab+10}" title="#{labelMsgs.continue}" id="parentalControlContinue" styleClass="image_button" value="#{labelMsgs.continue}"  action="#{addUserBean.continueStep3Action}"/>
                            	</div>
                                <div id="addUserPageError">
									<h:outputLabel value="#{addUserBean.errorValueMap.pageError}" id="pageError"
									rendered="#{addUserBean.errorValueMap.pageError ne null}" styleClass="#{addUserBean.errorValueMap.pageError ne null?'err_msg MarginLeft10':'err_msg_hide'}"/>
								</div>
                            </div>                          
                		</div>
                        <div class="body_wrapper_right_shadow">
                		</div>
                </div>
<!-- End of Body content -->         
        </div>
<!-- End of Main body -->   
</h:form>	
</ui:composition>